Refactor Web3 Provider

